{"version":3,"sources":["src/errorHandling.js"],"names":[],"mappings":";;;;;QACgB,QAAQ,GAAR,QAAQ;QAYR,oBAAoB,GAApB,oBAAoB;;;;qBAbpB,UAAU;;;;AACnB,SAAS,QAAQ,CAAC,GAAG,EAAE;AAC5B,qBAAI,KAAK,CAAC,GAAG,CAAC,CAAC;AACf,MAAI,mBAAI,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;AACzB,uBAAI,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,YAAW;AAC3C,YAAM,GAAG,CAAC;KACX,CAAC,CAAC;AACH,uBAAI,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;GAC7B,MAAM;AACL,UAAM,GAAG,CAAC;GACX;CACF;;AAEM,SAAS,oBAAoB,GAAG;AACrC,SAAO,CAAC,EAAE,CAAC,mBAAmB,EAAE,QAAQ,CAAC,CAAC;CAC3C","file":"src/errorHandling.js","sourcesContent":["import log from './log.js';\nexport function listener(err) {\n  log.error(err);\n  if (log.streams[1].stream) {\n    log.streams[1].stream.on('close', function() {\n      throw err;\n    });\n    log.streams[1].stream.end();\n  } else {\n    throw err;\n  }\n}\n\nexport function installErrorListener() {\n  process.on('uncaughtException', listener);\n}\n"]}